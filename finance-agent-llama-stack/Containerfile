FROM registry.access.redhat.com/ubi9/python-311:latest

# Install dependencies
RUN pip install --no-cache-dir fastmcp httpx llama-stack-client==0.3.1 python-dotenv==1.2.1

WORKDIR /mcp_server

# Copy application files
COPY mcp_server.py /mcp_server/
COPY .env /mcp_server/

# Expose SSE port (default for FastMCP)
EXPOSE 8000

# Run the MCP server
ENTRYPOINT ["python", "mcp_server.py"]
